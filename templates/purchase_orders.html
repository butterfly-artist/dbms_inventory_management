{% extends 'base.html' %}
{% block title %}Purchase Orders - Inventory{% endblock %}
{% block content %}
<h1 class="mb-3">Purchase Orders</h1>
<div class="row">
  <div class="col-md-5">
    <h3 class="h5">Record New Purchase (Receive Stock)</h3>
    <form method="post">
      <div class="mb-3">
        <label class="form-label">Supplier</label>
        <select name="supplier_id" class="form-select" required>
          {% for s in suppliers %}
          <option value="{{ s._id }}">{{ s.name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Product</label>
        <select name="product_id" class="form-select" required>
          {% for p in products %}
          <option value="{{ p._id }}">{{ p.name }} ({{ p.sku }})</option>
          {% endfor %}
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Warehouse</label>
        <select name="warehouse_id" class="form-select" required>
          {% for w in warehouses %}
          <option value="{{ w._id }}">{{ w.name }} ({{ w.code }})</option>
          {% endfor %}
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Quantity</label>
        <input type="number" name="quantity" class="form-control" min="1" required>
      </div>
      <button type="submit" class="btn btn-primary">Save &amp; Update Stock</button>
    </form>
  </div>
  <div class="col-md-7">
    <h3 class="h5">Recent Purchase Orders</h3>
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>Supplier ID</th>
          <th>Product ID</th>
          <th>Warehouse ID</th>
          <th>Quantity</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        {% for po in purchase_orders %}
        <tr>
          <td>{{ po.supplier_id }}</td>
          <td>{{ po.product_id }}</td>
          <td>{{ po.warehouse_id }}</td>
          <td>{{ po.quantity }}</td>
          <td>{{ po.status }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
